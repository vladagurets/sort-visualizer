var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}let g;function v(t){g=t}function x(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const y=[],b=[],$=[],w=[],_=Promise.resolve();let T=!1;function k(t){$.push(t)}let C=!1;const E=new Set;function A(){if(!C){C=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];v(e),S(e.$$)}for(v(null),y.length=0;b.length;)b.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];E.has(e)||(E.add(e),e())}$.length=0}while(y.length);for(;w.length;)w.pop()();T=!1,C=!1,E.clear()}}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const M=new Set;function V(t,e){t&&t.i&&(M.delete(t),t.i(e))}function D(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),undefined.c.push((()=>{M.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function I(t){t&&t.c()}function N(t,n,r){const{fragment:i,on_mount:l,on_destroy:a,after_update:u}=t.$$;i&&i.m(n,r),k((()=>{const n=l.map(e).filter(s);a?a.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(k)}function P(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(y.push(t),T||(T=!0,_.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(e,s,r,i,l,a,c=[-1]){const f=g;v(e);const h=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let d=!1;if(h.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=s)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](s),d&&j(e,t)),n})):[],h.update(),d=!0,o(h.before_update),h.fragment=!!i&&i(h.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();s.intro&&V(e.$$.fragment),N(e,s.target,s.anchor),A()}v(f)}class R{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const B=[];function L(e,n=t){let o;const s=[];function i(t){if(r(e,t)&&(e=t,o)){const t=!B.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),B.push(n,e)}if(t){for(let t=0;t<B.length;t+=2)B[t][0](B[t+1]);B.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,l=t){const a=[r,l];return s.push(a),1===s.length&&(o=n(i)||t),r(e),()=>{const t=s.indexOf(a);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}function q(){return{width:window.innerWidth,height:window.innerHeight,pixelRatio:window.devicePixelRatio}}function F(t=50,e=150){return new Array(t).fill().map((()=>function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}(1,e)))}function z(t,e){const n=parseInt((t/e).toFixed(0));return 10*Math.ceil(n/10)}const H=[{value:"quick",label:"Quicksort"},{value:"bubble",label:"Bubble sort"},{value:"merge",label:"Merge sort"},{value:"insertion",label:"Insertion sort"}],U={padding:25,gridScale:20,colors:{grid:"#5f5f5f",main:"white",selected:"red",moved:"green"}},Q=L(q()),W=L(null),G=L(F()),J=L({drawDelay:150,elementsCount:50,maxElementValue:150,sortableArray:null,sortType:H[0].value,stepIndex:null});class K{constructor(t){this.options=t,this.canvas=t.canvas,this.colors=t.colors,this.ctx=this.canvas.getContext("2d")}draw=()=>{let t=0;for(let e in this.options.data)t=Math.max(t,this.options.data[e]);const e=this.canvas.height-2*this.options.padding,n=this.canvas.width-2*this.options.padding;let o=0;for(;o<=t;){const n=e*(1-o/t)+this.options.padding;this.drawLine(0,n,this.canvas.width,n,this.colors.grid),this.ctx.save(),this.ctx.fillStyle=this.colors.grid,this.ctx.font='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',this.ctx.fillText(o,0,n-2),this.ctx.restore(),o+=this.options.gridScale}let s=0;const r=n/Object.keys(this.options.data).length;for(let n in this.options.data){const o=this.options.data[n],i=Math.round(e*o/t);this.drawBar(this.options.padding+s*r,this.canvas.height-i-this.options.padding,r-3,i,this.colors.main),s++}};drawLine=(t,e,n,o,s)=>{this.ctx.save(),this.ctx.strokeStyle=s,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(n,o),this.ctx.stroke(),this.ctx.restore()};drawBar=(t,e,n,o,s)=>{this.ctx.save(),this.ctx.fillStyle=s,this.ctx.fillRect(t,e,n,o),this.ctx.restore()}}function X(e){let n,o;return{c(){n=c("canvas"),p(n,"width",o=.8*e[1].width),p(n,"height",400)},m(t,o){a(t,n,o),e[3](n)},p(t,[e]){2&e&&o!==(o=.8*t[1].width)&&p(n,"width",o)},i:t,o:t,d(t){t&&u(n),e[3](null)}}}function Y(t,e,n){let o,s,r,l,a;function u(t){if(!a)return;a.getContext("2d").clearRect(0,0,a.width,a.height);new K({...U,gridScale:z(s.maxElementValue,5),canvas:r,data:t}).draw()}return i(t,G,(t=>n(2,o=t))),i(t,J,(t=>n(4,s=t))),i(t,W,(t=>n(5,r=t))),i(t,Q,(t=>n(1,l=t))),x((()=>{W.set(a),u(o)})),t.$$.update=()=>{4&t.$$.dirty&&u(o)},[a,l,o,function(t){b[t?"unshift":"push"]((()=>{a=t,n(0,a)}))}]}class Z extends R{constructor(t){super(),O(this,t,Y,X,r,{})}}class tt{constructor(t,e){if(!t)throw new Error("Provide array");if(!e)throw new Error("Provide sortType");this.array=t,this.sortedArray=null,this.sortType=e,this.history=[],this.sort()}sort=()=>{if(!this[this.sortType])throw new Error("Provide correct sortType",this.sortType);this[this.sortType]()};bubble=()=>{const t=[...this.array];let e=!1;for(let n=1;n<t.length-1;n++){e=!1;for(let o=0;o<t.length-n;o++)t[o+1]<t[o]&&([t[o],t[o+1]]=[t[o+1],t[o]],e=!0);if(this.saveStep(t),!e)return t}this.saveSortedArray(t)};quick=()=>{const t=[...this.array],e=[];for(e.push(0),e.push(t.length-1);e[e.length-1]>=0;){const n=e.pop(),o=e.pop(),s=et(t,o,n);s-1>o&&(e.push(o),e.push(s-1)),s+1<n&&(e.push(s+1),e.push(n)),this.saveStep(t)}this.saveSortedArray(t)};saveSortedArray=t=>{this.sortedArray=[...t]};saveStep=t=>{this.history.push([...t])}}function et(t,e,n){const o=t[n];let s=e;for(let r=e;r<n;r++)t[r]<o&&([t[r],t[s]]=[t[s],t[r]],s++);return[t[s],t[n]]=[t[n],t[s]],s}function nt(t,e,n){const o=t.slice();return o[19]=e[n],o}function ot(e){let n,o,s;return{c(){n=c("button"),n.textContent="Continue",p(n,"class","svelte-9osepn")},m(t,r){a(t,n,r),o||(s=d(n,"click",e[5]),o=!0)},p:t,d(t){t&&u(n),o=!1,s()}}}function st(e){let n,o,s;return{c(){n=c("button"),n.textContent="Pause",p(n,"class","svelte-9osepn")},m(t,r){a(t,n,r),o||(s=d(n,"click",e[4]),o=!0)},p:t,d(t){t&&u(n),o=!1,s()}}}function rt(t){let e,n,o,s,r;return{c(){e=c("button"),n=f("Sort"),e.disabled=o=!t[0].sortType,p(e,"class","svelte-9osepn")},m(o,i){a(o,e,i),l(e,n),s||(r=d(e,"click",t[3]),s=!0)},p(t,n){1&n&&o!==(o=!t[0].sortType)&&(e.disabled=o)},d(t){t&&u(e),s=!1,r()}}}function it(e){let n,o,s=e[19].label+"";return{c(){n=c("option"),o=f(s),n.__value=e[19].value,n.value=n.__value},m(t,e){a(t,n,e),l(n,o)},p:t,d(t){t&&u(n)}}}function lt(e){let n,s,r,i,f,g,v,x,y,b,$,w,_,T,k,C,E,A,S,M,V,D,I,N,P,j,O,R,B,L,q,F,z,U;function Q(t,e){return null==t[2]?rt:null==t[2]||t[1]?ot:st}let W=Q(e),G=W(e),J=H,K=[];for(let t=0;t<J.length;t+=1)K[t]=it(nt(e,J,t));return{c(){n=c("div"),s=c("div"),G.c(),r=h(),i=c("button"),i.textContent="Refresh array",f=h(),g=c("br"),v=h(),x=c("div"),y=c("div"),b=c("label"),b.textContent="Algorithm:",$=h(),w=c("select"),_=c("option"),_.textContent="-";for(let t=0;t<K.length;t+=1)K[t].c();k=h(),C=c("div"),E=c("label"),E.textContent="Elements:",A=h(),S=c("input"),V=h(),D=c("div"),I=c("label"),I.textContent="Max value:",N=h(),P=c("input"),O=h(),R=c("div"),B=c("label"),B.textContent="Delay:",L=h(),q=c("input"),p(i,"class","svelte-9osepn"),p(s,"class","flex svelte-9osepn"),p(b,"for","method"),p(b,"class","svelte-9osepn"),_.__value="",_.value=_.__value,p(w,"name","method"),p(w,"class","svelte-9osepn"),p(y,"class","flex form-item svelte-9osepn"),p(E,"for","count"),p(E,"class","svelte-9osepn"),p(S,"name","count"),p(S,"type","number"),p(S,"min","10"),S.value=M=e[0].elementsCount,p(S,"class","svelte-9osepn"),p(C,"class","flex form-item svelte-9osepn"),p(I,"for","maxValue"),p(I,"class","svelte-9osepn"),p(P,"name","maxValue"),p(P,"type","number"),p(P,"min","10"),P.value=j=e[0].maxElementValue,p(P,"class","svelte-9osepn"),p(D,"class","flex form-item svelte-9osepn"),p(B,"for","delay"),p(B,"class","svelte-9osepn"),p(q,"name","delay"),p(q,"type","range"),p(q,"min","100"),p(q,"max","1000"),q.value=F=e[0].drawDelay,p(q,"class","svelte-9osepn"),p(R,"class","flex form-item svelte-9osepn"),p(x,"class","flex flex-column svelte-9osepn")},m(t,o){a(t,n,o),l(n,s),G.m(s,null),l(s,r),l(s,i),l(n,f),l(n,g),l(n,v),l(n,x),l(x,y),l(y,b),l(y,$),l(y,w),l(w,_);for(let t=0;t<K.length;t+=1)K[t].m(w,null);m(w,e[0].sortType),l(x,k),l(x,C),l(C,E),l(C,A),l(C,S),l(x,V),l(x,D),l(D,I),l(D,N),l(D,P),l(x,O),l(x,R),l(R,B),l(R,L),l(R,q),z||(U=[d(i,"click",e[6]),d(w,"change",e[10]),d(S,"change",e[7]),d(P,"change",e[8]),d(q,"change",e[9])],z=!0)},p(t,[e]){if(W===(W=Q(t))&&G?G.p(t,e):(G.d(1),G=W(t),G&&(G.c(),G.m(s,r))),0&e){let n;for(J=H,n=0;n<J.length;n+=1){const o=nt(t,J,n);K[n]?K[n].p(o,e):(K[n]=it(o),K[n].c(),K[n].m(w,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=J.length}1&e&&T!==(T=t[0].sortType)&&m(w,t[0].sortType),1&e&&M!==(M=t[0].elementsCount)&&(S.value=M),1&e&&j!==(j=t[0].maxElementValue)&&(P.value=j),1&e&&F!==(F=t[0].drawDelay)&&(q.value=F)},i:t,o:t,d(t){t&&u(n),G.d(),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(K,t),z=!1,o(U)}}}function at(t,e,n){let o,s,r,l,a,u,c,f;i(t,J,(t=>n(0,c=t))),i(t,G,(t=>n(16,f=t)));let h=!1;function d(){n(1,h=!h)}function p(t,e){J.set({...c,[t]:e})}function m(){h||setTimeout((()=>{if(u&&a<u.history.length){const t=u.history[a];G.set(t),J.set({...c,stepIndex:a+1}),m()}}),r)}return t.$$.update=()=>{1&t.$$.dirty&&n(2,({elementsCount:o,maxElementValue:s,maxElementValue:s,drawDelay:r,sortType:l,stepIndex:a,sortableArray:u}=c),a)},[c,h,a,function(){p("sortableArray",new tt(f,l)),p("stepIndex",0),setTimeout((()=>{m()}),0)},d,function(){d(),setTimeout((()=>{m()}),0)},function(){n(1,h=!1),p("sortableArray",null),p("stepIndex",null),G.set(F(o,s))},function({target:{valueAsNumber:t}}){p("elementsCount",t)},function({target:{valueAsNumber:t}}){p("maxElementValue",t)},function({target:{valueAsNumber:t}}){p("drawDelay",t)},function({target:{value:t}}){p("sortType",t)}]}class ut extends R{constructor(t){super(),O(this,t,at,lt,r,{})}}function ct(e){let n,o;return{c:t,m(t,s){n||(o=d(window,"resize",e[0],{passive:!0}),n=!0)},p:t,i:t,o:t,d(t){n=!1,o()}}}function ft(t){return[function(t,e){let n=null;return function(){(!n||+new Date>n+e)&&t(...arguments),n=+new Date}}((function(){Q.set(q())}),500)]}class ht extends R{constructor(t){super(),O(this,t,ft,ct,r,{})}}function dt(e){let n,o,s,r,i,f,d,m,g;return o=new Z({}),f=new ut({}),m=new ht({}),{c(){n=c("main"),I(o.$$.fragment),s=h(),r=c("br"),i=h(),I(f.$$.fragment),d=h(),I(m.$$.fragment),p(n,"class","svelte-jxjbk7")},m(t,e){a(t,n,e),N(o,n,null),l(n,s),l(n,r),l(n,i),N(f,n,null),a(t,d,e),N(m,t,e),g=!0},p:t,i(t){g||(V(o.$$.fragment,t),V(f.$$.fragment,t),V(m.$$.fragment,t),g=!0)},o(t){D(o.$$.fragment,t),D(f.$$.fragment,t),D(m.$$.fragment,t),g=!1},d(t){t&&u(n),P(o),P(f),t&&u(d),P(m,t)}}}return new class extends R{constructor(t){super(),O(this,t,null,dt,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
